# Integration Guide: Upload Features & Mock Draft Support\n\nThis guide will help you integrate the new upload functionality and mock draft support into your existing Fantasy Football Draft Rankings system.\n\n## ğŸš€ What's New\n\n### 1. **Enhanced User Setup Page**\n- **3 Tabs**: My Leagues, Mock Draft, Management\n- **Mock Draft ID Input**: Direct connection to Sleeper mock drafts\n- **Upload Management**: Built-in file upload and rankings management\n\n### 2. **File Upload System**\n- **Drag & Drop Interface**: Beautiful CSV upload with validation\n- **Custom Rankings Storage**: Organized file management system\n- **Format Support**: Multiple scoring formats and league types\n\n### 3. **Mock Draft Connection**\n- **Real-time Tracking**: Live draft status monitoring\n- **Auto-refresh**: Configurable update intervals\n- **Draft Validation**: Ensures draft exists before connecting\n\n## ğŸ“‹ Quick Setup Checklist\n\n### Backend Setup âœ…\n- [x] Upload routes added (`routes/upload_routes.py`)\n- [x] Sleeper API enhanced with draft methods\n- [x] App.py updated with new routes\n- [x] Error handling integrated\n- [x] Test suite created\n\n### Frontend Setup âœ…\n- [x] Enhanced UserSetup component created\n- [x] Upload components built (FileUpload, MockDraftConfig, ManagementPanel)\n- [x] App.jsx updated to use EnhancedUserSetup\n- [x] CSS styles added to index.css\n\n## ğŸ› ï¸ How to Test\n\n### 1. Start the Backend\n```bash\ncd backend\npython3 app.py\n```\n\n### 2. Run the Test Suite\n```bash\ncd backend\npython3 test_upload_features.py\n```\n\n### 3. Start the Frontend\n```bash\ncd frontend\nnpm start\n```\n\n### 4. Test the Features\n1. **Go to the homepage** - You'll see the new 3-tab interface\n2. **My Leagues Tab** - Same functionality as before\n3. **Mock Draft Tab** - Enter a mock draft ID (e.g., `123456789`)\n4. **Management Tab** - Upload CSV files and manage custom rankings\n\n## ğŸ“ File Upload Testing\n\n### Create a Test CSV File\n```csv\nname,position,rank,tier,team\nJosh Allen,QB,1,1,BUF\nChristian McCaffrey,RB,2,1,SF\nCooper Kupp,WR,3,1,LAR\nTravis Kelce,TE,4,1,KC\nJustin Tucker,K,5,2,BAL\nBuffalo Bills,DST,6,2,BUF\n```\n\n### Upload Process\n1. Go to **Management Tab**\n2. Click **Custom Rankings** sub-tab\n3. Drag & drop your CSV file or click to browse\n4. Fill in display name and description\n5. Select scoring format and league type\n6. Click **Upload Rankings**\n\n## ğŸ¯ Mock Draft Testing\n\n### Get a Mock Draft ID\n1. Go to Sleeper and create/join a mock draft\n2. Look at the URL: `https://sleeper.app/draft/nfl/123456789`\n3. Copy the number at the end: `123456789`\n\n### Connect to Mock Draft\n1. Go to **Mock Draft Tab**\n2. Enter the draft ID\n3. Click **Connect to Mock Draft**\n4. You'll be redirected to the draft view with live tracking\n\n## ğŸ”§ Key Features Explained\n\n### Enhanced User Interface\n- **Tabbed Navigation**: Clean separation of functionality\n- **Responsive Design**: Works on desktop and mobile\n- **Dark Mode Support**: Consistent with existing theme\n- **Error Handling**: User-friendly error messages\n\n### File Upload System\n- **Validation**: Checks file format, size, and content\n- **Storage**: Organized in `backend/rankings/Custom/`\n- **Metadata**: Tracks upload time, player count, format\n- **Management**: View, delete, and organize uploaded files\n\n### Mock Draft Integration\n- **Real-time Updates**: Auto-refresh every 30 seconds (configurable)\n- **Status Tracking**: Shows draft progress and last pick time\n- **Validation**: Verifies draft exists before connecting\n- **Persistence**: Configuration survives server restarts\n\n## ğŸš¨ Troubleshooting\n\n### Backend Issues\n- **Server won't start**: Check if port 5001 is available\n- **Upload fails**: Verify `backend/rankings/Custom/` directory exists\n- **Mock draft not found**: Ensure draft ID is numeric and valid\n\n### Frontend Issues\n- **Components not loading**: Check console for import errors\n- **Styles not applied**: Verify index.css was updated correctly\n- **Upload not working**: Check network tab for API errors\n\n### Common Fixes\n```bash\n# Create custom rankings directory\nmkdir -p backend/rankings/Custom\n\n# Install missing dependencies (if any)\ncd frontend\nnpm install\n\n# Restart both servers\n# Terminal 1:\ncd backend && python3 app.py\n\n# Terminal 2:\ncd frontend && npm start\n```\n\n## ğŸ“Š API Endpoints Summary\n\n### Upload Endpoints\n- `POST /api/rankings/upload` - Upload custom rankings\n- `GET /api/rankings/custom` - List custom rankings\n- `DELETE /api/rankings/custom/{id}` - Delete custom rankings\n\n### Mock Draft Endpoints\n- `POST /api/mock-draft/config` - Set mock draft configuration\n- `GET /api/mock-draft/config` - Get current configuration\n- `GET /api/mock-draft/status` - Get live draft status\n- `DELETE /api/mock-draft/config` - Clear configuration\n\n## ğŸ¨ Customization Options\n\n### Styling\n- Modify `frontend/src/components/*.css` files\n- Update Tailwind classes in components\n- Customize colors in `index.css`\n\n### Functionality\n- Adjust file size limits in `upload_routes.py`\n- Modify refresh intervals in `MockDraftConfig.jsx`\n- Add new scoring formats in validation\n\n### Storage\n- Change upload directory in `RankingsManager.py`\n- Modify metadata structure as needed\n- Add new file format support\n\n## ğŸ”„ Migration from Old System\n\nIf you want to keep the old UserSetup component:\n\n1. **Rename files**:\n   ```bash\n   mv frontend/src/components/UserSetup.jsx frontend/src/components/UserSetup.backup.jsx\n   mv frontend/src/components/EnhancedUserSetup.jsx frontend/src/components/UserSetup.jsx\n   ```\n\n2. **Update App.jsx**:\n   ```jsx\n   import UserSetup from './components/UserSetup';\n   ```\n\n3. **Or use both**: Keep both components and switch via a feature flag\n\n## ğŸ¯ Next Steps\n\n1. **Test thoroughly** with your existing data\n2. **Customize styling** to match your preferences\n3. **Add more features** like ranking comparison tools\n4. **Monitor usage** with the error statistics endpoint\n5. **Consider automation** for regular ranking updates\n\n## ğŸ“ Support\n\nIf you encounter issues:\n\n1. **Check the test suite output** for backend issues\n2. **Review browser console** for frontend errors\n3. **Verify file formats** match the requirements\n4. **Test with small files first** before uploading large rankings\n5. **Use valid Sleeper mock draft IDs** for testing\n\n---\n\n**ğŸ‰ You now have a complete upload and mock draft system integrated into your Fantasy Football Draft Rankings application!**\n\nThe system provides:\n- âœ… Custom rankings file upload\n- âœ… Mock draft ID connection\n- âœ… Real-time draft tracking\n- âœ… File management interface\n- âœ… Error handling and validation\n- âœ… Responsive design\n- âœ… Dark mode support\n\nEnjoy your enhanced draft experience! ğŸˆ