{"ast":null,"code":"import React,{useState,useEffect}from'react';import DraggablePositionSection from'./DraggablePositionSection';import{POSITION_COLORS}from'../constants/positions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DraggablePositionGrid=_ref=>{let{positions}=_ref;const[sectionOrder,setSectionOrder]=useState(['ALL','FLEX','QB','RB','WR','TE','K']);const[isDragging,setIsDragging]=useState(false);const[dragIndex,setDragIndex]=useState(null);// Load saved order from localStorage\nuseEffect(()=>{const savedOrder=localStorage.getItem('positionSectionOrder');if(savedOrder){try{setSectionOrder(JSON.parse(savedOrder));}catch(e){console.warn('Failed to load saved position order:',e);}}},[]);// Save order to localStorage\nconst saveOrder=newOrder=>{setSectionOrder(newOrder);localStorage.setItem('positionSectionOrder',JSON.stringify(newOrder));};const handleDragStart=(e,index)=>{setIsDragging(true);setDragIndex(index);e.dataTransfer.effectAllowed='move';e.dataTransfer.setData('text/html',index);};const handleDragEnd=()=>{setIsDragging(false);setDragIndex(null);};const handleDragOver=e=>{e.preventDefault();e.dataTransfer.dropEffect='move';};const handleDrop=(e,dropIndex)=>{e.preventDefault();const draggedIndex=parseInt(e.dataTransfer.getData('text/html'));if(draggedIndex!==dropIndex){const newOrder=[...sectionOrder];const draggedItem=newOrder[draggedIndex];// Remove dragged item\nnewOrder.splice(draggedIndex,1);// Insert at new position\nnewOrder.splice(dropIndex,0,draggedItem);saveOrder(newOrder);}setIsDragging(false);setDragIndex(null);};const getSectionConfig=sectionKey=>{return POSITION_COLORS[sectionKey]||POSITION_COLORS.ALL;};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-700\",children:[\"\\uD83D\\uDCA1 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Tip:\"}),\" Drag sections by the grip handle to reorder them. Click the chevron to collapse/expand sections.\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:sectionOrder.map((sectionKey,index)=>{const config=getSectionConfig(sectionKey);const sectionPlayers=positions[sectionKey]||[];return/*#__PURE__*/_jsx(DraggablePositionSection,{index:index,title:config.name,players:sectionPlayers,icon:config.icon,color:config.color,onDragStart:handleDragStart,onDragEnd:handleDragEnd,onDragOver:handleDragOver,onDrop:handleDrop,isDragging:isDragging,dragIndex:dragIndex},sectionKey);})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>saveOrder(['ALL','FLEX','QB','RB','WR','TE','K']),className:\"text-sm text-gray-500 hover:text-gray-700 underline\",children:\"Reset to default order\"})})]});};export default DraggablePositionGrid;","map":{"version":3,"names":["React","useState","useEffect","DraggablePositionSection","POSITION_COLORS","jsx","_jsx","jsxs","_jsxs","DraggablePositionGrid","_ref","positions","sectionOrder","setSectionOrder","isDragging","setIsDragging","dragIndex","setDragIndex","savedOrder","localStorage","getItem","JSON","parse","e","console","warn","saveOrder","newOrder","setItem","stringify","handleDragStart","index","dataTransfer","effectAllowed","setData","handleDragEnd","handleDragOver","preventDefault","dropEffect","handleDrop","dropIndex","draggedIndex","parseInt","getData","draggedItem","splice","getSectionConfig","sectionKey","ALL","className","children","map","config","sectionPlayers","title","name","players","icon","color","onDragStart","onDragEnd","onDragOver","onDrop","onClick"],"sources":["/Users/edeclan/FantasyFootballTest/SleeperLiveDraftRankings/frontend/src/components/DraggablePositionGrid.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport DraggablePositionSection from './DraggablePositionSection';\nimport { POSITION_COLORS } from '../constants/positions';\n\nconst DraggablePositionGrid = ({ positions }) => {\n  const [sectionOrder, setSectionOrder] = useState([\n    'ALL',\n    'FLEX', \n    'QB',\n    'RB',\n    'WR',\n    'TE',\n    'K'\n  ]);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragIndex, setDragIndex] = useState(null);\n\n  // Load saved order from localStorage\n  useEffect(() => {\n    const savedOrder = localStorage.getItem('positionSectionOrder');\n    if (savedOrder) {\n      try {\n        setSectionOrder(JSON.parse(savedOrder));\n      } catch (e) {\n        console.warn('Failed to load saved position order:', e);\n      }\n    }\n  }, []);\n\n  // Save order to localStorage\n  const saveOrder = (newOrder) => {\n    setSectionOrder(newOrder);\n    localStorage.setItem('positionSectionOrder', JSON.stringify(newOrder));\n  };\n\n  const handleDragStart = (e, index) => {\n    setIsDragging(true);\n    setDragIndex(index);\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', index);\n  };\n\n  const handleDragEnd = () => {\n    setIsDragging(false);\n    setDragIndex(null);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  };\n\n  const handleDrop = (e, dropIndex) => {\n    e.preventDefault();\n    const draggedIndex = parseInt(e.dataTransfer.getData('text/html'));\n    \n    if (draggedIndex !== dropIndex) {\n      const newOrder = [...sectionOrder];\n      const draggedItem = newOrder[draggedIndex];\n      \n      // Remove dragged item\n      newOrder.splice(draggedIndex, 1);\n      \n      // Insert at new position\n      newOrder.splice(dropIndex, 0, draggedItem);\n      \n      saveOrder(newOrder);\n    }\n    \n    setIsDragging(false);\n    setDragIndex(null);\n  };\n\n  const getSectionConfig = (sectionKey) => {\n    return POSITION_COLORS[sectionKey] || POSITION_COLORS.ALL;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Instructions */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n        <p className=\"text-sm text-blue-700\">\n          ðŸ’¡ <strong>Tip:</strong> Drag sections by the grip handle to reorder them. Click the chevron to collapse/expand sections.\n        </p>\n      </div>\n\n      {/* Draggable sections in 2-column grid on desktop */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {sectionOrder.map((sectionKey, index) => {\n          const config = getSectionConfig(sectionKey);\n          const sectionPlayers = positions[sectionKey] || [];\n          \n          return (\n            <DraggablePositionSection\n              key={sectionKey}\n              index={index}\n              title={config.name}\n              players={sectionPlayers}\n              icon={config.icon}\n              color={config.color}\n              onDragStart={handleDragStart}\n              onDragEnd={handleDragEnd}\n              onDragOver={handleDragOver}\n              onDrop={handleDrop}\n              isDragging={isDragging}\n              dragIndex={dragIndex}\n            />\n          );\n        })}\n      </div>\n\n      {/* Reset button */}\n      <div className=\"text-center\">\n        <button\n          onClick={() => saveOrder(['ALL', 'FLEX', 'QB', 'RB', 'WR', 'TE', 'K'])}\n          className=\"text-sm text-gray-500 hover:text-gray-700 underline\"\n        >\n          Reset to default order\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default DraggablePositionGrid;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}