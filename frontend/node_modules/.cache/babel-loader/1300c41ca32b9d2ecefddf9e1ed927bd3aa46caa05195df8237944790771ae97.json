{"ast":null,"code":"var _jsxFileName = \"/Users/edeclan/FantasyFootballTest/SleeperLiveDraftRankings/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport UserSetup from './components/UserSetup';\nimport LoadingState from './components/LoadingState';\nimport ErrorState from './components/ErrorState';\nimport DraftView from './components/DraftView';\nimport useDraftData from './hooks/useDraftData';\nimport { ThemeProvider } from './contexts/ThemeContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [currentDraft, setCurrentDraft] = useState(null);\n  const [username, setUsername] = useState('');\n  const [userLeagues, setUserLeagues] = useState([]);\n  const {\n    data,\n    loading,\n    refreshing,\n    error,\n    lastUpdated,\n    setDraftId,\n    refreshData\n  } = useDraftData(currentDraft === null || currentDraft === void 0 ? void 0 : currentDraft.draftId);\n  const handleDraftSelected = draftInfo => {\n    setCurrentDraft(draftInfo);\n    setUsername(draftInfo.username);\n    setUserLeagues(draftInfo.leagues || []);\n    setDraftId(draftInfo.draftId);\n  };\n  const handleDraftChange = async draftInfo => {\n    console.log('App: handleDraftChange called with:', draftInfo);\n    console.log('App: Previous currentDraft:', currentDraft);\n    setCurrentDraft(prev => {\n      const newDraft = {\n        ...prev,\n        ...draftInfo\n      };\n      console.log('App: New currentDraft:', newDraft);\n      return newDraft;\n    });\n    setDraftId(draftInfo.draftId);\n\n    // Update the backend's current draft ID\n    if (draftInfo.draftId) {\n      try {\n        console.log('App: Setting backend draft ID to:', draftInfo.draftId);\n        const response = await fetch('/api/draft/set', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            draft_id: draftInfo.draftId\n          })\n        });\n        if (!response.ok) {\n          console.error('Failed to set backend draft ID');\n        } else {\n          console.log('App: Successfully set backend draft ID');\n        }\n      } catch (error) {\n        console.error('Error setting backend draft ID:', error);\n      }\n    }\n  };\n  const handleBackToSetup = () => {\n    setCurrentDraft(null);\n    setUsername('');\n    setUserLeagues([]);\n  };\n\n  // Show user setup if no draft is selected\n  if (!currentDraft) {\n    return /*#__PURE__*/_jsxDEV(UserSetup, {\n      onDraftSelected: handleDraftSelected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Loading state\n  if (loading && !data) {\n    return /*#__PURE__*/_jsxDEV(LoadingState, {\n      currentDraft: currentDraft,\n      userLeagues: userLeagues,\n      onDraftChange: handleDraftChange,\n      onBackToSetup: handleBackToSetup,\n      username: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Error state\n  if (error && !data) {\n    return /*#__PURE__*/_jsxDEV(ErrorState, {\n      error: error,\n      onRetry: refreshData,\n      currentDraft: currentDraft,\n      userLeagues: userLeagues,\n      onDraftChange: handleDraftChange,\n      onBackToSetup: handleBackToSetup,\n      username: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Main draft view\n  return /*#__PURE__*/_jsxDEV(DraftView, {\n    data: data,\n    loading: loading,\n    refreshing: refreshing,\n    error: error,\n    lastUpdated: lastUpdated,\n    onRefresh: refreshData,\n    currentDraft: currentDraft,\n    userLeagues: userLeagues,\n    onDraftChange: handleDraftChange,\n    onBackToSetup: handleBackToSetup,\n    username: username\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n\n// Wrap the entire App with ThemeProvider\n_s(App, \"ZxhBEf6ZAkFJ5bnPQdeHkegfjzA=\", false, function () {\n  return [useDraftData];\n});\n_c = App;\nconst AppWithTheme = () => /*#__PURE__*/_jsxDEV(ThemeProvider, {\n  children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 118,\n  columnNumber: 3\n}, this);\n_c2 = AppWithTheme;\nexport default AppWithTheme;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"AppWithTheme\");","map":{"version":3,"names":["React","useState","UserSetup","LoadingState","ErrorState","DraftView","useDraftData","ThemeProvider","jsxDEV","_jsxDEV","App","_s","currentDraft","setCurrentDraft","username","setUsername","userLeagues","setUserLeagues","data","loading","refreshing","error","lastUpdated","setDraftId","refreshData","draftId","handleDraftSelected","draftInfo","leagues","handleDraftChange","console","log","prev","newDraft","response","fetch","method","headers","body","JSON","stringify","draft_id","ok","handleBackToSetup","onDraftSelected","fileName","_jsxFileName","lineNumber","columnNumber","onDraftChange","onBackToSetup","onRetry","onRefresh","_c","AppWithTheme","children","_c2","$RefreshReg$"],"sources":["/Users/edeclan/FantasyFootballTest/SleeperLiveDraftRankings/frontend/src/App.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport UserSetup from './components/UserSetup';\nimport LoadingState from './components/LoadingState';\nimport ErrorState from './components/ErrorState';\nimport DraftView from './components/DraftView';\nimport useDraftData from './hooks/useDraftData';\nimport { ThemeProvider } from './contexts/ThemeContext';\n\nconst App = () => {\n  const [currentDraft, setCurrentDraft] = useState(null);\n  const [username, setUsername] = useState('');\n  const [userLeagues, setUserLeagues] = useState([]);\n  \n  const { data, loading, refreshing, error, lastUpdated, setDraftId, refreshData } = useDraftData(\n    currentDraft?.draftId\n  );\n\n  const handleDraftSelected = (draftInfo) => {\n    setCurrentDraft(draftInfo);\n    setUsername(draftInfo.username);\n    setUserLeagues(draftInfo.leagues || []);\n    setDraftId(draftInfo.draftId);\n  };\n\n  const handleDraftChange = async (draftInfo) => {\n    console.log('App: handleDraftChange called with:', draftInfo);\n    console.log('App: Previous currentDraft:', currentDraft);\n    \n    setCurrentDraft(prev => {\n      const newDraft = { ...prev, ...draftInfo };\n      console.log('App: New currentDraft:', newDraft);\n      return newDraft;\n    });\n    setDraftId(draftInfo.draftId);\n    \n    // Update the backend's current draft ID\n    if (draftInfo.draftId) {\n      try {\n        console.log('App: Setting backend draft ID to:', draftInfo.draftId);\n        const response = await fetch('/api/draft/set', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ draft_id: draftInfo.draftId }),\n        });\n        \n        if (!response.ok) {\n          console.error('Failed to set backend draft ID');\n        } else {\n          console.log('App: Successfully set backend draft ID');\n        }\n      } catch (error) {\n        console.error('Error setting backend draft ID:', error);\n      }\n    }\n  };\n\n  const handleBackToSetup = () => {\n    setCurrentDraft(null);\n    setUsername('');\n    setUserLeagues([]);\n  };\n\n  // Show user setup if no draft is selected\n  if (!currentDraft) {\n    return <UserSetup onDraftSelected={handleDraftSelected} />;\n  }\n\n  // Loading state\n  if (loading && !data) {\n    return (\n      <LoadingState\n        currentDraft={currentDraft}\n        userLeagues={userLeagues}\n        onDraftChange={handleDraftChange}\n        onBackToSetup={handleBackToSetup}\n        username={username}\n      />\n    );\n  }\n\n  // Error state\n  if (error && !data) {\n    return (\n      <ErrorState\n        error={error}\n        onRetry={refreshData}\n        currentDraft={currentDraft}\n        userLeagues={userLeagues}\n        onDraftChange={handleDraftChange}\n        onBackToSetup={handleBackToSetup}\n        username={username}\n      />\n    );\n  }\n\n  // Main draft view\n  return (\n    <DraftView\n      data={data}\n      loading={loading}\n      refreshing={refreshing}\n      error={error}\n      lastUpdated={lastUpdated}\n      onRefresh={refreshData}\n      currentDraft={currentDraft}\n      userLeagues={userLeagues}\n      onDraftChange={handleDraftChange}\n      onBackToSetup={handleBackToSetup}\n      username={username}\n    />\n  );\n};\n\n// Wrap the entire App with ThemeProvider\nconst AppWithTheme = () => (\n  <ThemeProvider>\n    <App />\n  </ThemeProvider>\n);\n\nexport default AppWithTheme;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}