{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Users}from'lucide-react';import DraftHeader from'./DraftHeader';import RosterSidebar from'./RosterSidebar';import ConnectionStatus from'./ConnectionStatus';import DraggablePositionGrid from'./DraggablePositionGrid';import DraftFooter from'./DraftFooter';import DebugInfo from'./DebugInfo';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DraftView=_ref=>{let{data,loading,refreshing,error,lastUpdated,onRefresh,currentDraft,userLeagues,onDraftChange,onBackToSetup,username}=_ref;// Initialize roster sidebar state from localStorage\nconst[isRosterOpen,setIsRosterOpen]=useState(()=>{const saved=localStorage.getItem('rosterSidebarOpen');return saved!==null?JSON.parse(saved):false;});const positions=(data===null||data===void 0?void 0:data.positions)||{};// Save roster sidebar state to localStorage whenever it changes\nuseEffect(()=>{localStorage.setItem('rosterSidebarOpen',JSON.stringify(isRosterOpen));},[isRosterOpen]);// Debug current draft changes\nconsole.log('DraftView: currentDraft changed:',currentDraft);console.log('DraftView: isRosterOpen state:',isRosterOpen);// Handle roster toggle with smooth UX\nconst handleRosterToggle=()=>{setIsRosterOpen(prev=>!prev);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900\",children:[/*#__PURE__*/_jsx(DraftHeader,{data:data,lastUpdated:lastUpdated,onRefresh:onRefresh,loading:loading,refreshing:refreshing,currentDraft:currentDraft,leagues:userLeagues,onDraftChange:onDraftChange,onBackToSetup:onBackToSetup,username:username}),/*#__PURE__*/_jsx(RosterSidebar,{isOpen:isRosterOpen,onToggle:handleRosterToggle,leagueId:currentDraft===null||currentDraft===void 0?void 0:currentDraft.leagueId,draftId:currentDraft===null||currentDraft===void 0?void 0:currentDraft.draftId,username:username,lastUpdated:lastUpdated}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"py-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleRosterToggle,className:\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsxs(\"span\",{children:[isRosterOpen?'Hide':'Show',\" My Roster\"]})]})})})}),/*#__PURE__*/_jsx(ConnectionStatus,{error:error,onRetry:onRefresh}),/*#__PURE__*/_jsxs(\"main\",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 transition-all duration-300 ${isRosterOpen?'lg:ml-80 xl:ml-96':''}`,children:[/*#__PURE__*/_jsx(DraggablePositionGrid,{positions:positions}),/*#__PURE__*/_jsx(DraftFooter,{data:data,currentDraft:currentDraft})]}),/*#__PURE__*/_jsx(DebugInfo,{leagues:userLeagues,currentDraft:currentDraft,username:username})]});};export default DraftView;","map":{"version":3,"names":["React","useState","useEffect","Users","DraftHeader","RosterSidebar","ConnectionStatus","DraggablePositionGrid","DraftFooter","DebugInfo","jsx","_jsx","jsxs","_jsxs","DraftView","_ref","data","loading","refreshing","error","lastUpdated","onRefresh","currentDraft","userLeagues","onDraftChange","onBackToSetup","username","isRosterOpen","setIsRosterOpen","saved","localStorage","getItem","JSON","parse","positions","setItem","stringify","console","log","handleRosterToggle","prev","className","children","leagues","isOpen","onToggle","leagueId","draftId","onClick","onRetry"],"sources":["/Users/edeclan/FantasyFootballTest/SleeperLiveDraftRankings/frontend/src/components/DraftView.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Users } from 'lucide-react';\nimport DraftHeader from './DraftHeader';\nimport RosterSidebar from './RosterSidebar';\nimport ConnectionStatus from './ConnectionStatus';\nimport DraggablePositionGrid from './DraggablePositionGrid';\nimport DraftFooter from './DraftFooter';\nimport DebugInfo from './DebugInfo';\n\nconst DraftView = ({\n  data,\n  loading,\n  refreshing,\n  error,\n  lastUpdated,\n  onRefresh,\n  currentDraft,\n  userLeagues,\n  onDraftChange,\n  onBackToSetup,\n  username\n}) => {\n  // Initialize roster sidebar state from localStorage\n  const [isRosterOpen, setIsRosterOpen] = useState(() => {\n    const saved = localStorage.getItem('rosterSidebarOpen');\n    return saved !== null ? JSON.parse(saved) : false;\n  });\n  \n  const positions = data?.positions || {};\n\n  // Save roster sidebar state to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('rosterSidebarOpen', JSON.stringify(isRosterOpen));\n  }, [isRosterOpen]);\n\n  // Debug current draft changes\n  console.log('DraftView: currentDraft changed:', currentDraft);\n  console.log('DraftView: isRosterOpen state:', isRosterOpen);\n\n  // Handle roster toggle with smooth UX\n  const handleRosterToggle = () => {\n    setIsRosterOpen(prev => !prev);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      <DraftHeader \n        data={data}\n        lastUpdated={lastUpdated}\n        onRefresh={onRefresh}\n        loading={loading}\n        refreshing={refreshing}\n        currentDraft={currentDraft}\n        leagues={userLeagues}\n        onDraftChange={onDraftChange}\n        onBackToSetup={onBackToSetup}\n        username={username}\n      />\n\n      {/* Roster Sidebar */}\n      <RosterSidebar\n        isOpen={isRosterOpen}\n        onToggle={handleRosterToggle}\n        leagueId={currentDraft?.leagueId}\n        draftId={currentDraft?.draftId}\n        username={username}\n        lastUpdated={lastUpdated}\n      />\n\n      {/* Roster Toggle Button in Header */}\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"py-2\">\n            <button\n              onClick={handleRosterToggle}\n              className=\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors\"\n            >\n              <Users className=\"w-4 h-4\" />\n              <span>{isRosterOpen ? 'Hide' : 'Show'} My Roster</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Connection status indicator */}\n      <ConnectionStatus error={error} onRetry={onRefresh} />\n\n      <main className={`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 transition-all duration-300 ${isRosterOpen ? 'lg:ml-80 xl:ml-96' : ''}`}>\n        {/* Draggable Position sections */}\n        <DraggablePositionGrid positions={positions} />\n\n        {/* Draft info footer */}\n        <DraftFooter data={data} currentDraft={currentDraft} />\n      </main>\n      \n      {/* Debug Info */}\n      <DebugInfo \n        leagues={userLeagues}\n        currentDraft={currentDraft}\n        username={username}\n      />\n    </div>\n  );\n};\n\nexport default DraftView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}